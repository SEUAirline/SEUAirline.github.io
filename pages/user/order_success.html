<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SEUAirline - 预订成功</title>
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- FontAwesome -->
  <link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">

  <!-- 自定义样式 -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#1E3A8A',
            secondary: '#3B82F6',
            accent: '#F8FAFC',
            success: '#10B981',
            warning: '#F59E0B'
          }
        }
      }
    }
  </script>

  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto { content-visibility: auto; }
      .btn-primary { 
        @apply bg-primary text-white px-4 py-2 rounded-md hover:bg-primary/90 transition-all duration-300;
      }
      .btn-secondary { 
        @apply bg-white text-primary border border-primary px-4 py-2 rounded-md hover:bg-gray-50 transition-all duration-300;
      }
      .step-active {
        @apply bg-primary text-white border-primary;
      }
      .step-success {
        @apply bg-success text-white border-success;
      }
      .step-line {
        @apply h-1 flex-grow bg-gray-300;
      }
      .step-line-success {
        @apply bg-success;
      }
      .success-card {
        @apply bg-white rounded-lg shadow-md overflow-hidden;
      }
    }
  </style>
</head>

<body class="bg-gray-50 min-h-screen">
  <!-- 导航栏 -->
  <nav class="bg-white shadow-sm sticky top-0 z-30">
    <div class="container mx-auto px-4">
      <div class="flex justify-between items-center h-16">
        <div class="flex items-center">
          <a href="homepage.html" class="flex items-center"
            onclick="if (parent && typeof parent.switchPage === 'function') { parent.switchPage('pages/user/homepage.html'); return false; } else { window.location.href = 'homepage.html'; }">
            <i class="fas fa-plane text-primary text-2xl mr-2"></i>
            <span class="text-xl font-bold text-primary">SEUAirline</span>
          </a>
        </div>

        <div class="hidden md:flex space-x-8">
          <a href="homepage.html" class="text-gray-600 hover:text-primary"
            onclick="if (parent && typeof parent.switchPage === 'function') { parent.switchPage('pages/user/homepage.html'); return false; } else { window.location.href = 'homepage.html'; }">首页</a>
          <a href="view_orders.html" class="text-gray-600 hover:text-primary"
            onclick="if (parent && typeof parent.switchPage === 'function') { parent.switchPage('pages/user/view_orders.html'); return false; } else { window.location.href = 'view_orders.html'; }">我的订单</a>
          <a href="user_center.html" class="text-gray-600 hover:text-primary"
            onclick="if (parent && typeof parent.switchPage === 'function') { parent.switchPage('pages/user/user_center.html'); return false; } else { window.location.href = 'user_center.html'; }">个人中心</a>
        </div>

        <div class="flex items-center space-x-4">
          <div id="user-info" class="hidden items-center space-x-2 cursor-pointer"
            onclick="if (parent && typeof parent.switchPage === 'function') { parent.switchPage('pages/user/user_center.html'); } else { window.location.href = 'user_center.html'; }">
            <img src="https://picsum.photos/32/32" alt="用户头像" class="w-8 h-8 rounded-full">
            <span class="text-gray-700"><span id="username">游客</span> <i
                class="fas fa-id-card text-yellow-500"></i></span>
          </div>
          <button class="md:hidden text-gray-600">
            <i class="fas fa-bars text-xl"></i>
          </button>
        </div>
      </div>
    </div>
  </nav>

  <!-- 进度指示器 -->
  <div class="bg-white border-b border-gray-200">
    <div class="container mx-auto px-4 py-4">
      <div class="flex items-center justify-between max-w-4xl mx-auto">
        <div class="flex flex-col items-center">
          <div class="w-10 h-10 rounded-full border-2 flex items-center justify-center step-success">
            <i class="fas fa-check"></i>
          </div>
          <span class="text-xs mt-1 text-success font-medium">选择航班</span>
        </div>
        <div class="step-line step-line-success flex-grow mx-2"></div>
        <div class="flex flex-col items-center">
          <div class="w-10 h-10 rounded-full border-2 flex items-center justify-center step-success">
            <i class="fas fa-check"></i>
          </div>
          <span class="text-xs mt-1 text-success font-medium">填写信息</span>
        </div>
        <div class="step-line step-line-success flex-grow mx-2"></div>
        <div class="flex flex-col items-center">
          <div class="w-10 h-10 rounded-full border-2 flex items-center justify-center step-success">
            <i class="fas fa-check"></i>
          </div>
          <span class="text-xs mt-1 text-success font-medium">支付订单</span>
        </div>
        <div class="step-line step-line-success flex-grow mx-2"></div>
        <div class="flex flex-col items-center">
          <div class="w-10 h-10 rounded-full border-2 flex items-center justify-center step-success">
            <i class="fas fa-check"></i>
          </div>
          <span class="text-xs mt-1 text-success font-medium">完成预订</span>
        </div>
      </div>
    </div>
  </div>

  <!-- 主要内容区 -->
  <main class="container mx-auto px-4 py-6">
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
      <!-- 左侧：订单成功信息 -->
      <div class="lg:col-span-2">
        <!-- 订单成功提示 -->
        <div class="success-card p-6 mb-6 bg-green-50 border border-green-100">
          <div class="flex flex-col items-center text-center">
            <div class="w-16 h-16 rounded-full bg-success/20 flex items-center justify-center mb-4">
              <i class="fas fa-check text-3xl text-success"></i>
            </div>
            <h2 class="text-2xl font-bold text-success mb-2">预订成功！</h2>
            <p class="text-gray-600 mb-4">您的航班已成功预订，祝您旅途愉快！</p>
            <div class="flex flex-wrap justify-center gap-4 text-sm">
              <div class="flex items-center">
                <i class="fas fa-file-invoice text-success mr-2"></i>
                <span>订单号：<strong class="text-gray-800">SA20240120001</strong></span>
              </div>
              <div class="flex items-center">
                <i class="fas fa-clock text-success mr-2"></i>
                <span>支付时间：<strong class="text-gray-800">2024-01-20 14:30:45</strong></span>
              </div>
            </div>
          </div>
        </div>

        <!-- 航班信息卡片 -->
        <div class="success-card p-6 mb-6">
          <h2 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
            <i class="fas fa-plane-departure text-primary mr-2"></i>
            航班信息
          </h2>

          <div class="border-t border-gray-100 pt-4">
            <div class="flex flex-col md:flex-row items-center justify-between mb-6">
              <div class="flex items-center mb-4 md:mb-0">
                <div class="text-center">
                  <div class="text-2xl font-bold text-gray-800">08:00</div>
                  <div class="text-sm text-gray-500 mt-1">北京首都 T2</div>
                </div>

                <div class="flex flex-col items-center mx-6">
                  <div class="text-sm text-gray-500">2h20m</div>
                  <div class="relative w-40 h-0.5 my-2">
                    <div class="absolute left-0 right-0 top-0 flex justify-between items-center">
                      <div class="w-2 h-2 bg-primary rounded-full -mt-1"></div>
                      <div class="absolute left-1/2 transform -translate-x-1/2 hidden md:block"><i
                          class="fas fa-plane text-primary transform rotate-45"></i></div>
                      <div class="w-2 h-2 bg-primary rounded-full -mt-1"></div>
                    </div>
                  </div>
                  <div class="text-sm text-gray-500">直飞</div>
                </div>

                <div class="text-center">
                  <div class="text-2xl font-bold text-gray-800">10:20</div>
                  <div class="text-sm text-gray-500 mt-1">上海浦东 T1</div>
                </div>
              </div>

              <div class="text-right">
                <div class="text-lg font-bold">CA1234</div>
                <div class="text-sm text-gray-500 mt-1">2024-01-20</div>
                <div class="text-sm text-gray-500">经济舱</div>
              </div>
            </div>

            <!-- 乘客信息 -->
            <div class="mb-6">
              <h3 class="text-base font-medium text-gray-700 mb-3">乘客信息</h3>
              <div class="bg-gray-50 rounded-md p-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-2 text-sm">
                  <div class="flex">
                    <span class="text-gray-500 w-16">姓名：</span>
                    <span class="text-gray-800">张三</span>
                  </div>
                  <div class="flex">
                    <span class="text-gray-500 w-16">性别：</span>
                    <span class="text-gray-800">男</span>
                  </div>
                  <div class="flex">
                    <span class="text-gray-500 w-16">证件：</span>
                    <span class="text-gray-800">身份证</span>
                  </div>
                  <div class="flex">
                    <span class="text-gray-500 w-16">号码：</span>
                    <span class="text-gray-800">11010XXXXXXXXXXX123</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- 票号信息 -->
            <div>
              <h3 class="text-base font-medium text-gray-700 mb-3">电子客票信息</h3>
              <div class="bg-gray-50 rounded-md p-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-2 text-sm">
                  <div class="flex">
                    <span class="text-gray-500 w-16">票号：</span>
                    <span class="text-gray-800">999-1234567890</span>
                  </div>
                  <div class="flex">
                    <span class="text-gray-500 w-16">座位号：</span>
                    <span class="text-gray-800">15A</span>
                  </div>
                  <div class="flex md:col-span-2">
                    <span class="text-gray-500 w-16">出票状态：</span>
                    <span class="text-success font-medium">已出票</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 温馨提示 -->
        <div class="success-card p-6">
          <h2 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
            <i class="fas fa-info-circle text-warning mr-2"></i>
            温馨提示
          </h2>

          <div class="space-y-3 text-sm text-gray-600">
            <div class="flex items-start">
              <i class="fas fa-check-circle text-success mt-0.5 mr-2 flex-shrink-0"></i>
              <p>订单已出票，请至少提前90分钟到达机场办理登机手续。</p>
            </div>
            <div class="flex items-start">
              <i class="fas fa-check-circle text-success mt-0.5 mr-2 flex-shrink-0"></i>
              <p>请携带有效身份证件原件（与订单信息一致）前往机场，经济舱旅客可免费托运行李20kg。</p>
            </div>
            <div class="flex items-start">
              <i class="fas fa-check-circle text-success mt-0.5 mr-2 flex-shrink-0"></i>
              <p>您可在「我的订单」中查看完整订单详情，并进行值机、退票或改签操作。</p>
            </div>
            <div class="flex items-start">
              <i class="fas fa-check-circle text-success mt-0.5 mr-2 flex-shrink-0"></i>
              <p>航班动态可能随时更新，建议出发前通过官网或APP查看最新航班状态。</p>
            </div>
            <div class="flex items-start">
              <i class="fas fa-check-circle text-success mt-0.5 mr-2 flex-shrink-0"></i>
              <p>如有疑问，请拨打客服热线：400-888-8888，我们将竭诚为您服务。</p>
            </div>
          </div>
        </div>
      </div>

      <!-- 右侧：后续操作 -->
      <div class="lg:col-span-1">
        <div class="bg-white rounded-lg shadow-md p-6 sticky top-20">
          <h2 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
            <i class="fas fa-tasks text-primary mr-2"></i>
            后续操作
          </h2>

          <div class="space-y-4 mb-6">
            <a href="#"
              class="block p-4 border border-gray-200 rounded-lg hover:border-primary hover:bg-blue-50 transition-all">
              <div class="flex items-center justify-between">
                <div class="flex items-center">
                  <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-3">
                    <i class="fas fa-qrcode text-primary"></i>
                  </div>
                  <div>
                    <h3 class="font-medium text-gray-800">查看电子客票</h3>
                    <p class="text-xs text-gray-500 mt-0.5">获取电子客票二维码</p>
                  </div>
                </div>
                <i class="fas fa-chevron-right text-gray-400"></i>
              </div>
            </a>

            <a href="#"
              class="block p-4 border border-gray-200 rounded-lg hover:border-primary hover:bg-blue-50 transition-all">
              <div class="flex items-center justify-between">
                <div class="flex items-center">
                  <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-3">
                    <i class="fas fa-user-secret text-primary"></i>
                  </div>
                  <div>
                    <h3 class="font-medium text-gray-800">在线值机</h3>
                    <p class="text-xs text-gray-500 mt-0.5">提前24小时选择座位</p>
                  </div>
                </div>
                <i class="fas fa-chevron-right text-gray-400"></i>
              </div>
            </a>

            <a href="#"
              class="block p-4 border border-gray-200 rounded-lg hover:border-primary hover:bg-blue-50 transition-all">
              <div class="flex items-center justify-between">
                <div class="flex items-center">
                  <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-3">
                    <i class="fas fa-hotel text-primary"></i>
                  </div>
                  <div>
                    <h3 class="font-medium text-gray-800">预订酒店</h3>
                    <p class="text-xs text-gray-500 mt-0.5">享首单9折优惠</p>
                  </div>
                </div>
                <i class="fas fa-chevron-right text-gray-400"></i>
              </div>
            </a>

            <a href="#"
              class="block p-4 border border-gray-200 rounded-lg hover:border-primary hover:bg-blue-50 transition-all">
              <div class="flex items-center justify-between">
                <div class="flex items-center">
                  <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-3">
                    <i class="fas fa-car text-primary"></i>
                  </div>
                  <div>
                    <h3 class="font-medium text-gray-800">预约用车</h3>
                    <p class="text-xs text-gray-500 mt-0.5">接送机享85折</p>
                  </div>
                </div>
                <i class="fas fa-chevron-right text-gray-400"></i>
              </div>
            </a>
          </div>

          <div class="border-t border-gray-100 pt-4">
            <h3 class="font-medium text-gray-700 mb-3">联系客服</h3>
            <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
              <div>
                <p class="text-sm text-gray-500">有任何问题？</p>
                <p class="text-lg font-bold text-primary mt-1">400-888-8888</p>
              </div>
              <button class="w-10 h-10 bg-primary rounded-full flex items-center justify-center text-white">
                <i class="fas fa-phone"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- 底部操作按钮 -->
  <div class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg py-3 px-4 z-40">
    <div class="container mx-auto">
      <div class="flex justify-center space-x-4">
        <button id="view-order" class="btn-secondary">
          查看订单详情
        </button>
        <button id="back-home" class="btn-primary">
          返回首页
        </button>
      </div>
    </div>
  </div>

  <!-- JavaScript -->
  <script src="../../data/mock-api.js"></script>
  <script>
    // 获取元素
    const viewOrderButton = document.getElementById('view-order');
    const backHomeButton = document.getElementById('back-home');

    // 查看订单详情按钮事件
    viewOrderButton.addEventListener('click', () => {
      // 获取当前订单ID
      const orderId = localStorage.getItem('currentOrderId');
      if (orderId) {
        // 在实际应用中，这里应该跳转到订单详情页面并带上订单ID参数
        localStorage.setItem('viewOrderId', orderId);
        if (parent && typeof parent.switchPage === 'function') {
          parent.switchPage('pages/user/view_orders.html');
        } else {
          window.location.href = 'view_orders.html';
        }
      } else {
        if (parent && typeof parent.switchPage === 'function') {
          parent.switchPage('pages/user/view_orders.html');
        } else {
          window.location.href = 'view_orders.html';
        }
      }
    });

    // 返回首页按钮事件
    backHomeButton.addEventListener('click', () => {
      if (parent && typeof parent.switchPage === 'function') {
        parent.switchPage('pages/user/homepage.html');
      } else {
        window.location.href = 'homepage.html';
      }
    });

    // 检查用户登录状态
    function checkLoginStatus() {
      const user = MockAPI.getCurrentUser();
      if (user) {
        document.getElementById('user-info').classList.remove('hidden');
        document.getElementById('user-info').classList.add('flex');
        document.getElementById('username').textContent = user.username || '用户';
      }
    }

    // 页面加载时执行
    window.addEventListener('DOMContentLoaded', () => {
      checkLoginStatus();

      // 清除当前订单ID，因为订单已经完成
      // localStorage.removeItem('currentOrderId');
    });
  </script>
</body>

</html>